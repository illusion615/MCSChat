<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>MCSChat Component - Unified Suggested Actions Demo</title>
      <!-- 
    This demo showcases the Unified Suggested Actions System:
    - Standard suggestions (4 buttons) use inline layout
    - Mass suggestions (29 knowledge domain buttons) use grid layout
    - Both use the same CSS classes, JavaScript handlers, and behavior
    - Any suggestion click sends message and hides the container
    -->
      <style>
            /* Global Styles */
            * {
                  margin: 0;
                  padding: 0;
                  box-sizing: border-box;
            }

            body {
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                  background: #f8f9fa;
                  line-height: 1.6;
            }

            /* MCSChat-inspired CSS Grid Layout */
            .chat-container {
                  display: grid;
                  grid-template-rows: auto 1fr auto;
                  grid-template-areas:
                        "header"
                        "messages"
                        "input";
                  height: 100vh;
                  max-width: 100%;
                  background: #f8f9fa;
            }

            .chat-header {
                  grid-area: header;
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding: 1rem 1.5rem;
                  background: white;
                  border-bottom: 1px solid #e9ecef;
            }

            .conversation-title {
                  font-size: 1rem;
                  font-weight: 500;
                  color: #333;
            }

            .agent-status {
                  display: flex;
                  flex-direction: column;
                  align-items: flex-end;
                  font-size: 0.875rem;
            }

            .status-indicator {
                  color: #28a745;
                  margin-bottom: 0.25rem;
            }

            .model-info {
                  color: #6c757d;
            }

            .messages-area {
                  grid-area: messages;
                  overflow-y: auto;
                  padding: 1rem 1.5rem;
                  display: flex;
                  flex-direction: column;
                  gap: 1.5rem;
                  background: #f8f9fa;
            }

            /* Assistant Message Styling */
            .message-bubble.assistant {
                  display: flex;
                  align-items: flex-start;
                  gap: 0.75rem;
                  max-width: 85%;
            }

            .assistant-avatar {
                  width: 32px;
                  height: 32px;
                  background: #f1f3f4;
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                  font-size: 1rem;
            }

            .message-content {
                  background: white;
                  border-radius: 1rem;
                  padding: 1rem;
                  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
                  flex-grow: 1;
            }

            .thinking-indicator {
                  background: #f8f9fa;
                  border-radius: 0.5rem;
                  padding: 0.5rem 0.75rem;
                  margin-top: 0.5rem;
                  font-style: italic;
                  color: #6c757d;
                  border-left: 3px solid #007bff;
            }

            .message-footer {
                  display: flex;
                  align-items: center;
                  gap: 0.75rem;
                  margin-top: 0.5rem;
                  font-size: 0.875rem;
                  color: #6c757d;
            }

            .audio-button {
                  background: none;
                  border: none;
                  font-size: 1rem;
                  cursor: pointer;
                  opacity: 0.7;
                  transition: opacity 0.2s ease;
            }

            .audio-button:hover {
                  opacity: 1;
            }

            .user-timestamp {
                  font-size: 0.8rem;
                  color: #6c757d;
                  margin-right: 0.5rem;
            }

            /* User Message Styling (Blue Pill) */
            .message-bubble.user {
                  align-self: flex-end;
                  display: flex;
                  flex-direction: column;
                  align-items: flex-end;
                  gap: 0.5rem;
                  max-width: 300px;
            }

            .user-message-pill {
                  background: #007bff;
                  color: white;
                  padding: 0.75rem 1.25rem;
                  border-radius: 1.5rem;
                  font-size: 0.875rem;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  border: none;
                  font-family: inherit;
            }

            .user-message-pill:hover {
                  background: #0056b3;
                  transform: translateY(-1px);
            }

            /* Suggested Actions System - Scalable for any number of suggestions */
            .suggested-actions {
                  margin: 1.5rem 0;
                  align-self: stretch;
                  max-width: 100%;
            }

            .suggested-actions.hidden {
                  display: none;
            }

            /* Mass suggestions example - knowledge domains showing scale capability */
            .knowledge-domains {
                  margin: 1.5rem 0;
                  align-self: stretch;
                  max-width: 100%;
            }

            .knowledge-domains.hidden {
                  display: none;
            }

            /* Unified button styling for all suggestion types */
            .suggestion-button,
            .domain-button {
                  background: white;
                  border: 1px solid #dee2e6;
                  border-radius: 0.375rem;
                  padding: 0.5rem 0.75rem;
                  font-size: 0.875rem;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  font-family: inherit;
            }

            .suggestion-button:hover,
            .domain-button:hover {
                  background: #f8f9fa;
                  border-color: #007bff;
                  transform: translateY(-1px);
            }

            /* Grid layout for mass suggestions (like knowledge domains) */
            .domain-grid {
                  display: flex;
                  flex-wrap: wrap;
                  gap: 0.5rem;
                  margin-top: 1rem;
            }

            /* Standard suggestions layout (inline flow) */
            .suggested-actions .suggestion-button {
                  margin: 0.25rem;
                  display: inline-block;
            }

            /* Suggested Actions Styling */
            .suggested-actions {
                  display: flex;
                  flex-wrap: wrap;
                  gap: 0.5rem;
                  margin-top: 0.75rem;
            }

            .suggestion-button {
                  background: #f8f9fa;
                  border: 1px solid #007bff;
                  color: #007bff;
                  border-radius: 1rem;
                  padding: 0.5rem 1rem;
                  font-size: 0.875rem;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  font-family: inherit;
            }

            .suggestion-button:hover {
                  background: #007bff;
                  color: white;
                  transform: translateY(-1px);
            }

            .suggested-actions.hidden {
                  display: none;
            }

            /* Input Area Styling */
            .input-area {
                  grid-area: input;
                  padding: 1rem 1.5rem;
                  background: white;
                  border-top: 1px solid #e9ecef;
            }

            .input-container {
                  display: flex;
                  align-items: center;
                  gap: 0.75rem;
                  background: #f8f9fa;
                  border-radius: 1.5rem;
                  padding: 0.5rem 1rem;
                  border: 1px solid #dee2e6;
            }

            .text-input {
                  flex-grow: 1;
                  border: none;
                  background: transparent;
                  padding: 0.5rem;
                  font-size: 1rem;
                  outline: none;
                  font-family: inherit;
                  resize: none;
                  min-height: 20px;
                  max-height: 120px;
            }

            .input-container button {
                  background: none;
                  border: none;
                  font-size: 1.25rem;
                  cursor: pointer;
                  opacity: 0.7;
                  transition: opacity 0.2s ease;
                  border-radius: 50%;
                  width: 32px;
                  height: 32px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
            }

            .input-container button:hover {
                  opacity: 1;
                  background: rgba(0, 0, 0, 0.05);
            }

            .send-button {
                  background: #007bff !important;
                  color: white !important;
                  opacity: 1 !important;
            }

            .send-button:hover {
                  background: #0056b3 !important;
            }
      </style>
</head>

<body>
      <div class="chat-container">
            <div class="chat-header">
                  <div class="conversation-title">Switching Knowledge Domains in Virtual Assistant Conversation</div>
                  <div class="agent-status">
                        <div class="status-indicator">🟢 Agent: Knowledge Hub</div>
                        <div class="model-info">💬 Companion Model: Azure: gpt-5-chat</div>
                  </div>
            </div>

            <div class="messages-area">
                  <!-- Assistant Message with Thinking -->
                  <div class="message-bubble assistant">
                        <div class="assistant-avatar">🤖</div>
                        <div class="message-content">
                              <div class="message-text">Perfect! I have my thoughts ready for the response.</div>
                              <div class="thinking-indicator">
                                    ✨ Perfect! I have my thoughts ready for the response.
                              </div>
                              <div class="message-footer">
                                    <span class="timestamp">10:54:02 PM</span>
                                    <span class="agent-label">AI Companion (Thinking)</span>
                              </div>
                        </div>
                  </div>

                  <!-- Assistant Response -->
                  <div class="message-bubble assistant">
                        <div class="assistant-avatar">💭</div>
                        <div class="message-content">
                              <div class="message-text">Now you can ask question about ai, and you can say "Change
                                    knowledge domain" anytime to switch between domains.</div>
                              <div class="suggested-actions">
                                    <button class="suggestion-button">Tell me about AI</button>
                                    <button class="suggestion-button">Change knowledge domain</button>
                                    <button class="suggestion-button">How does this work?</button>
                              </div>
                              <div class="message-footer">
                                    <span class="timestamp">10:54:00 PM</span>
                                    <span class="response-time">Response time: 727ms</span>
                                    <button class="audio-button">🔊</button>
                              </div>
                        </div>
                  </div>

                  <!-- User Message (Blue Pill) -->
                  <div class="message-bubble user">
                        <button class="user-message-pill">change domain</button>
                        <div class="user-timestamp">10:54:08 PM 👤</div>
                  </div>

                  <!-- Another Assistant Message -->
                  <div class="message-bubble assistant">
                        <div class="assistant-avatar">🤖</div>
                        <div class="message-content">
                              <div class="message-text">Let me analyze the user's request "change domain" as a direct
                                    command, which likely signals they want to switch the current knowledge domain from
                                    AI to another subject area.</div>
                              <div class="thinking-indicator">
                                    ✨ Perfect! I have my thoughts ready for the response.
                              </div>
                              <div class="message-footer">
                                    <span class="timestamp">10:54:10 PM</span>
                                    <span class="agent-label">AI Companion (Thinking)</span>
                              </div>
                        </div>
                  </div>

                  <!-- Assistant Question -->
                  <div class="message-bubble assistant">
                        <div class="assistant-avatar">💭</div>
                        <div class="message-content">
                              <div class="message-text">Which knowledge domain are you interested?</div>
                              <div class="suggested-actions">
                                    <button class="suggestion-button">Show me Mathematics</button>
                                    <button class="suggestion-button">I need AI help</button>
                                    <button class="suggestion-button">Business Reports</button>
                                    <button class="suggestion-button">Something else</button>
                              </div>
                              <div class="message-footer">
                                    <span class="timestamp">10:54:12 PM</span>
                                    <span class="response-time">Response time: 279ms</span>
                                    <button class="audio-button">🔊</button>
                              </div>
                        </div>
                  </div>
            </div>


            <div class="input-area">
                  <div class="input-container">
                        <button class="attachment-button">📎</button>
                        <textarea class="text-input" placeholder="Type your message..." rows="1"></textarea>
                        <button class="voice-button">🎤</button>
                        <button class="settings-button">⚙️</button>
                        <button class="send-button">↗️</button>
                  </div>
            </div>


            <script>
                  /*
                  UNIFIED SUGGESTED ACTIONS SYSTEM
                  
                  This JavaScript demonstrates how a single system handles both:
                  - Standard suggestions (4 buttons with inline layout)
                  - Mass suggestions (29 knowledge domain buttons with grid layout)
                  
                  Key benefits:
                  - One event handler function for all suggestion types
                  - Consistent behavior regardless of button count
                  - Same hiding mechanism works for any .suggested-actions container
                  - Easy to add new suggestion types without code changes
                  */

                  // Unified Suggested Actions System - works for all suggestion types
                  function handleSuggestionClick(button) {
                        const suggestionText = button.textContent;

                        // Find the suggestion container (works for both standard and mass suggestions)
                        const suggestionContainer = button.closest('.suggested-actions');

                        // Hide all suggestions in this container
                        if (suggestionContainer) {
                              suggestionContainer.classList.add('hidden');
                        }

                        // Add user message with the selected suggestion
                        addUserMessage(suggestionText);
                  }

                  // Initialize all suggestion buttons with unified behavior
                  function initializeSuggestionSystem() {
                        document.querySelectorAll('.suggestion-button').forEach(button => {
                              button.addEventListener('click', function () {
                                    handleSuggestionClick(this);
                              });
                        });
                  }

                  function addUserMessage(text) {
                        const messagesArea = document.querySelector('.messages-area');
                        const messageHTML = `
                <div class="message-bubble user">
                    <button class="user-message-pill">${text}</button>
                    <div class="user-timestamp">${new Date().toLocaleTimeString()} 👤</div>
                </div>
            `;
                        messagesArea.insertAdjacentHTML('beforeend', messageHTML);
                        messagesArea.scrollTop = messagesArea.scrollHeight;

                        // Simulate AI response after user message
                        setTimeout(() => {
                              addAssistantResponse(text);
                        }, 1000);
                  }

                  function addAssistantResponse(userMessage) {
                        const messagesArea = document.querySelector('.messages-area');
                        let responseText = "Thank you for your selection!";
                        let suggestions = [];

                        // Generate contextual responses and suggestions
                        if (userMessage.toLowerCase().includes('ai')) {
                              responseText = "Great! I can help you with AI-related questions. What specific aspect of AI are you interested in?";
                              suggestions = ["Machine Learning", "Neural Networks", "AI Ethics", "Ask something else"];
                        } else if (userMessage.toLowerCase().includes('mathematics')) {
                              responseText = "Perfect! I can assist with mathematics. What type of math problem would you like help with?";
                              suggestions = ["Algebra", "Calculus", "Statistics", "Geometry"];
                        } else if (userMessage.toLowerCase().includes('domain')) {
                              responseText = "You can switch to any knowledge domain. Which area interests you most?";
                              suggestions = ["Technology", "Science", "Business", "Browse all domains"];
                        } else {
                              responseText = `I understand you're interested in "${userMessage}". How can I help you with this topic?`;
                              suggestions = ["Tell me more", "Show examples", "Explain basics", "Something else"];
                        }

                        const suggestionsHTML = suggestions.map(s => `<button class="suggestion-button">${s}</button>`).join('');

                        const messageHTML = `
                <div class="message-bubble assistant">
                    <div class="assistant-avatar">🤖</div>
                    <div class="message-content">
                        <div class="message-text">${responseText}</div>
                        <div class="suggested-actions">
                            ${suggestionsHTML}
                        </div>
                        <div class="message-footer">
                            <span class="timestamp">${new Date().toLocaleTimeString()}</span>
                            <span class="agent-label">AI Companion</span>
                        </div>
                    </div>
                </div>
            `;
                        messagesArea.insertAdjacentHTML('beforeend', messageHTML);
                        messagesArea.scrollTop = messagesArea.scrollHeight;

                        // Re-initialize suggestion system for the new message
                        initializeSuggestionSystem();
                  }

                  // Auto-resize textarea
                  const textInput = document.querySelector('.text-input');
                  textInput.addEventListener('input', function () {
                        this.style.height = 'auto';
                        this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                  });

                  // Send message functionality
                  document.querySelector('.send-button').addEventListener('click', function () {
                        const message = textInput.value.trim();
                        if (message) {
                              addUserMessage(message);
                              textInput.value = '';
                              textInput.style.height = 'auto';
                        }
                  });

                  // Enter to send (Shift+Enter for new line)
                  textInput.addEventListener('keydown', function (e) {
                        if (e.key === 'Enter' && !e.shiftKey) {
                              e.preventDefault();
                              document.querySelector('.send-button').click();
                        }
                  });

                  // Initialize suggestion system on page load
                  document.addEventListener('DOMContentLoaded', function () {
                        initializeSuggestionSystem();
                  });
            </script>
</body>

</html>