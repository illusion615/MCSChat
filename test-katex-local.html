<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KaTeX Local Test</title>
    <link rel="stylesheet" href="lib/katex.min.css">
    <script defer src="lib/katex.min.js"></script>
    <script defer src="lib/auto-render.min.js"></script>
</head>

<body>
    <div style="padding: 20px; font-family: Arial, sans-serif;">
        <h1>KaTeX Local Files Test</h1>

        <h2>Test Math Expressions:</h2>

        <p><strong>Inline math:</strong> The quadratic formula is $x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$</p>

        <p><strong>Display math:</strong></p>
        $$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$

        <p><strong>Another example:</strong></p>
        $$E = mc^2$$

        <p><strong>Complex equation:</strong></p>
        $$\sum_{n=1}^{\infty} \frac{1}{n^2} = \frac{\pi^2}{6}$$

        <div id="status" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9;">
            <h3>Library Status:</h3>
            <div id="library-status">Loading...</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('KaTeX test page loaded');

            const statusDiv = document.getElementById('library-status');
            let status = [];

            // Check KaTeX
            if (typeof katex !== 'undefined') {
                status.push('✅ KaTeX: Loaded (version: ' + (katex.version || 'unknown') + ')');
                console.log('KaTeX available');
            } else {
                status.push('❌ KaTeX: Failed to load');
                console.error('KaTeX not available');
            }

            // Check auto-render
            if (typeof renderMathInElement !== 'undefined') {
                status.push('✅ Auto-render: Loaded');
                console.log('Auto-render available');

                // Initialize auto-render
                try {
                    renderMathInElement(document.body, {
                        delimiters: [
                            { left: '$$', right: '$$', display: true },
                            { left: '$', right: '$', display: false }
                        ],
                        throwOnError: false
                    });
                    status.push('✅ Math rendering: Initialized');
                    console.log('Math rendering initialized');
                } catch (error) {
                    status.push('❌ Math rendering: Error - ' + error.message);
                    console.error('Math rendering error:', error);
                }
            } else {
                status.push('❌ Auto-render: Failed to load');
                console.error('Auto-render not available');
            }

            statusDiv.innerHTML = status.join('<br>');
        });
    </script>
</body>

</html>